\section{Evaluation}

For performance analysis of proposed solution we evaluated some most common graph algorithms using real-world sparse matrix data. As a baseline for comparison we chose LAGraph~\cite{szarnyas2021lagraph} in connection with SuiteSparse~\cite{10.1145/3322125} as a CPU tool, Gunrock~\cite{7967137} and GraphBLAST~\cite{yang2019graphblast} as a Nvidia GPU tools. Also, we tested algorithms on several devices with distinct OpenCL vendors in order to validate portability of the proposed solution. In general, these evaluation intentions are summarized in the following research questions. 

\vspace{0.2cm}
\begin{itemize}
    \item[\textbf{RQ1}] What is the performance of the proposed solution relative to existing tools for both CPU and GPU analysis?
    
    \item[\textbf{RQ2}] What is the portability of the proposed solution with respect to various device vendors and OpenCL runtimes?
\end{itemize}

\subsection{Graph Algorithms}

For preliminary study \textit{breadth-first search} (bfs) and \textit{triangles counting} (tc) algorithms were chosen, since they allows analyse the performance of \textit{vxm} and \textit{mxm} operations, rely heavily on \textit{masking}, and utilize \textit{reduction} or \textit{assignment}. Algorithms are implemented following Carl Yang et al.~\cite{yang2019graphblast} work.

\subsection{Dataset}

For experiments, eight graph matrices were selected from the Sparse Matrix Collection at University of Florida~\cite{dataset:10.1145/2049662.2049663}. Information about graphs is summarized in Table~\ref{dataset:info}. These graphs are widely used in various sparse matrix benchmarks, and they are well suited for performance study of selected algorithms.

\begin{table}[htbp]
\caption{Dataset description.} 
\begin{center}
    \rowcolors{2}{black!2}{black!10}
    \begin{tabular}{|l|r|r|r|}
    \hline
    Dataset & Vertices  & Edges & Max Degree \\
    \hline
    \hline
    coAuthorsCiteseer & 227.3K &   1.6M &    1372 \\
    coPapersDBLP      & 540.4K &  30.4M &    3299 \\
    hollywood-2009    &   1.1M & 113.8M &  11,467 \\
    roadNet-CA        &   1.9M &   5.5M &      12 \\
    com-Orkut         &     3M &   234M &   33313 \\
    \hline
    cit-Patents       &   3.7M &  16.5M &     793 \\
    soc-LiveJournal   &   4.8M &  68.9M &  20,333 \\
    indochina-2004    &   7.5M & 194.1M & 256,425 \\
    \hline
    \end{tabular}
    \label{dataset:info}
\end{center}
\end{table}

\subsection{Evaluation Setup}

For evaluation, we use a PC with Ubuntu 20.04 installed, which has Intel Core i7-6000 4-core CPU, 3.40Hz, DDR4 64Gb RAM, and Nvidia GeForce GTX 1070 GPU with 8Gb VRAM. Host programs were compiled with GCC 9.3.0 compiler. Programs using CUDA were compiled with GCC 8.4.0 and Nvidia NVCC 10.1.243 compiler. Release mode and maximum optimization level was enabled for all tested programs. Data loading time, preparation, format transformations and host-device initial communications are excluded from time measurements. All tests run 10 times with extra warm-up run.

\subsection{Results}

Single GPU 

\begin{table}[htbp]
\caption{Graph algorithms evaluation results.} 
\begin{center}
    \begin{tabular}{|l|r|r|r|r|}
    \hline
    Dataset & SuiteSparse & Gunrock & GraphBLAST & Spla \\
    \hline
    \hline
    \multicolumn{5}{|c|}{BFS} \\
    \hline
    \rowcolor{black!10}
    holywood-2009   & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!2}
    roadNet-CA      & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!10}
    com-Orkut       & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!2}
    soc-LiveJournal & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!10}
    indochina-2004  & 0.0 & 0.0 & 0.0 & 0.0 \\
    \hline
    \hline
    \multicolumn{5}{|c|}{TC} \\
    \hline
    \rowcolor{black!10}
    coAuthorsCiteseer & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!2}
    coPapersDBLP      & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!10}
    roadNet-CA        & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!2}
    com-Orkut         & 0.0 & 0.0 & 0.0 & 0.0 \\
    \rowcolor{black!10}
    soc-LiveJournal   & 0.0 & 0.0 & 0.0 & 0.0 \\
    \hline
    \end{tabular}
    \label{results}
\end{center}
\end{table}
 
% Two GPU

% \begin{table}[htbp]
%     \caption{Table Type Styles}
%     \begin{center}
%     \begin{tabular}{|c|c|c|c|}
%     \hline
%     \textbf{Table}&\multicolumn{3}{|c|}{\textbf{Table Column Head}} \\
%     \cline{2-4} 
%     \textbf{Head} & \textbf{\textit{Table column subhead}}& \textbf{\textit{Subhead}}& \textbf{\textit{Subhead}} \\
%     \hline
%     copy& More table copy$^{\mathrm{a}}$& &  \\
%     \hline
%     \multicolumn{4}{l}{$^{\mathrm{a}}$Sample of a Table footnote.}
%     \end{tabular}
%     \label{tab2}
%     \end{center}
% \end{table}

Analysis and conclusion.     